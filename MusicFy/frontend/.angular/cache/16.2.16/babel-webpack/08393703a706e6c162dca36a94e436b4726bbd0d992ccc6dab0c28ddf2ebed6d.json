{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/content.service\";\nimport * as i2 from \"../../services/annotation.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/progress-spinner\";\nfunction LyricsViewComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"mat-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LyricsViewComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"mat-card\")(2, \"mat-card-content\")(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function LyricsViewComponent_div_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.loadSongAndLyrics());\n    });\n    i0.ɵɵtext(6, \"Try Again\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nfunction LyricsViewComponent_div_3_ng_container_31_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 26);\n    i0.ɵɵlistener(\"click\", function LyricsViewComponent_div_3_ng_container_31_ng_container_1_Template_span_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const item_r10 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(item_r10.annotationId && ctx_r12.showAnnotation(ctx_r12.getAnnotationById(item_r10.annotationId)));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", item_r10.classes);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r10.char, \" \");\n  }\n}\nfunction LyricsViewComponent_div_3_ng_container_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, LyricsViewComponent_div_3_ng_container_31_ng_container_1_Template, 3, 2, \"ng-container\", 25);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.lyricsWithAnnotations);\n  }\n}\nfunction LyricsViewComponent_div_3_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \" No lyrics available for this song. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LyricsViewComponent_div_3_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"format_quote\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Select highlighted text in the lyrics to view annotations.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LyricsViewComponent_div_3_div_35_p_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"small\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Updated: \", i0.ɵɵpipeBind2(3, 1, ctx_r14.activeAnnotation.updated_at, \"medium\"), \"\");\n  }\n}\nfunction LyricsViewComponent_div_3_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"mat-card\")(2, \"mat-card-header\")(3, \"mat-card-title\");\n    i0.ɵɵtext(4, \"Annotation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-card-subtitle\")(6, \"div\", 30);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function LyricsViewComponent_div_3_div_35_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.hideAnnotation());\n    });\n    i0.ɵɵelementStart(9, \"mat-icon\");\n    i0.ɵɵtext(10, \"close\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"mat-card-content\")(12, \"p\", 32);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 33)(15, \"small\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, LyricsViewComponent_div_3_div_35_p_18_Template, 4, 4, \"p\", 20);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \\\"\", ctx_r8.lyrics && ctx_r8.lyrics.content ? ctx_r8.lyrics.content.substring(ctx_r8.activeAnnotation.start_index, ctx_r8.activeAnnotation.end_index) : \"\", \"\\\" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r8.activeAnnotation.content);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Created: \", i0.ɵɵpipeBind2(17, 4, ctx_r8.activeAnnotation.created_at, \"medium\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.activeAnnotation.updated_at && ctx_r8.activeAnnotation.updated_at !== ctx_r8.activeAnnotation.created_at);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/albums\", a1, \"songs\"];\n};\nconst _c1 = function (a1) {\n  return [\"/artists\", a1, \"albums\"];\n};\nfunction LyricsViewComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\", 9)(3, \"button\", 10)(4, \"mat-icon\");\n    i0.ɵɵtext(5, \"arrow_back\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 11)(7, \"h1\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h2\")(10, \"a\", 12);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 13);\n    i0.ɵɵtext(13, \"\\u2022\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"a\", 12);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 14)(17, \"div\", 15)(18, \"div\", 16)(19, \"h3\")(20, \"mat-icon\");\n    i0.ɵɵtext(21, \"music_note\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \" Lyrics \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 17)(24, \"mat-icon\");\n    i0.ɵɵtext(25, \"info\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"span\");\n    i0.ɵɵtext(27, \"Select text to view annotations\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"mat-card\", 18)(29, \"mat-card-content\")(30, \"div\", 19);\n    i0.ɵɵlistener(\"mouseup\", function LyricsViewComponent_div_3_Template_div_mouseup_30_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.onTextSelection());\n    });\n    i0.ɵɵtemplate(31, LyricsViewComponent_div_3_ng_container_31_Template, 2, 1, \"ng-container\", 20);\n    i0.ɵɵtemplate(32, LyricsViewComponent_div_3_div_32_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(33, \"div\", 22);\n    i0.ɵɵtemplate(34, LyricsViewComponent_div_3_div_34_Template, 5, 0, \"div\", 23);\n    i0.ɵɵtemplate(35, LyricsViewComponent_div_3_div_35_Template, 19, 7, \"div\", 24);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c0, ctx_r2.song.album.id));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.song.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c1, ctx_r2.song.artist.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.song.artist.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c0, ctx_r2.song.album.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.song.album.title);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.lyrics && ctx_r2.lyrics.content);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.lyrics || !ctx_r2.lyrics.content);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.activeAnnotation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.activeAnnotation);\n  }\n}\nexport let LyricsViewComponent = /*#__PURE__*/(() => {\n  class LyricsViewComponent {\n    constructor(contentService, annotationService, route, router, snackBar) {\n      this.contentService = contentService;\n      this.annotationService = annotationService;\n      this.route = route;\n      this.router = router;\n      this.snackBar = snackBar;\n      this.song = null;\n      this.lyrics = null;\n      this.annotations = [];\n      this.loading = true;\n      this.error = null;\n      this.songId = 0;\n      this.selectedText = '';\n      this.selectedStartIndex = -1;\n      this.selectedEndIndex = -1;\n      this.activeAnnotation = null;\n    }\n    ngOnInit() {\n      this.route.params.subscribe(params => {\n        this.songId = +params['songId'];\n        this.loadSongAndLyrics();\n      });\n    }\n    loadSongAndLyrics() {\n      this.loading = true;\n      this.error = null;\n      this.contentService.getSong(this.songId).subscribe({\n        next: song => {\n          this.song = song;\n          this.contentService.getLyrics(this.songId).subscribe({\n            next: lyrics => {\n              this.lyrics = lyrics;\n              this.loadAnnotations();\n            },\n            error: err => {\n              console.error('Error loading lyrics', err);\n              this.error = 'Failed to load lyrics. Please try again later.';\n              this.loading = false;\n            }\n          });\n        },\n        error: err => {\n          console.error('Error loading song', err);\n          this.error = 'Failed to load song details. Please try again later.';\n          this.loading = false;\n        }\n      });\n    }\n    loadAnnotations() {\n      if (!this.lyrics) {\n        this.loading = false;\n        return;\n      }\n      this.annotationService.getAnnotations(this.lyrics.id).subscribe({\n        next: annotations => {\n          this.annotations = annotations;\n          this.loading = false;\n        },\n        error: err => {\n          console.error('Error loading annotations', err);\n          this.snackBar.open('Failed to load annotations', 'Close', {\n            duration: 3000\n          });\n          this.loading = false;\n        }\n      });\n    }\n    onTextSelection() {\n      const selection = window.getSelection();\n      if (!selection || selection.rangeCount === 0) return;\n      const range = selection.getRangeAt(0);\n      const lyricsElement = document.querySelector('.lyrics-content');\n      if (!lyricsElement || !lyricsElement.contains(range.commonAncestorContainer)) {\n        return;\n      }\n      this.selectedText = selection.toString().trim();\n      if (this.selectedText) {\n        const lyricsText = lyricsElement.textContent || '';\n        const selectedText = this.selectedText;\n        const preSelectionRange = range.cloneRange();\n        preSelectionRange.selectNodeContents(lyricsElement);\n        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n        this.selectedStartIndex = preSelectionRange.toString().length;\n        this.selectedEndIndex = this.selectedStartIndex + selectedText.length;\n        const existingAnnotation = this.findAnnotationForSelection();\n        if (existingAnnotation) {\n          this.activeAnnotation = existingAnnotation;\n        } else {\n          this.snackBar.open('This part of the lyrics has no annotation yet.', 'Close', {\n            duration: 3000\n          });\n          this.resetSelectionState();\n        }\n      }\n    }\n    findAnnotationForSelection() {\n      if (this.selectedStartIndex === -1 || this.selectedEndIndex === -1) {\n        return null;\n      }\n      for (const annotation of this.annotations) {\n        if (this.selectedStartIndex >= annotation.start_index && this.selectedEndIndex <= annotation.end_index) {\n          return annotation;\n        }\n      }\n      for (const annotation of this.annotations) {\n        if (this.selectedStartIndex >= annotation.start_index && this.selectedStartIndex < annotation.end_index || this.selectedEndIndex > annotation.start_index && this.selectedEndIndex <= annotation.end_index) {\n          return annotation;\n        }\n      }\n      return null;\n    }\n    showAnnotation(annotation) {\n      this.activeAnnotation = annotation;\n    }\n    hideAnnotation() {\n      this.activeAnnotation = null;\n      this.resetSelectionState();\n    }\n    getAnnotationById(id) {\n      return this.annotations.find(a => a.id === id) || null;\n    }\n    resetSelectionState() {\n      this.selectedText = '';\n      this.selectedStartIndex = -1;\n      this.selectedEndIndex = -1;\n      // Clear any text selection\n      if (window.getSelection) {\n        if (window.getSelection()?.empty) {\n          window.getSelection()?.empty();\n        } else if (window.getSelection()?.removeAllRanges) {\n          window.getSelection()?.removeAllRanges();\n        }\n      }\n    }\n    getAnnotationClass(index) {\n      const classes = [];\n      for (const annotation of this.annotations) {\n        if (index >= annotation.start_index && index < annotation.end_index) {\n          classes.push('annotated');\n          if (this.activeAnnotation === annotation) {\n            classes.push('active');\n          }\n        }\n      }\n      return classes;\n    }\n    // Helper to render the lyrics with annotation highlights\n    get lyricsWithAnnotations() {\n      if (!this.lyrics || !this.lyrics.content) {\n        return [];\n      }\n      const result = [];\n      const text = this.lyrics.content;\n      for (let i = 0; i < text.length; i++) {\n        const char = text[i];\n        const classes = this.getAnnotationClass(i);\n        let annotationId;\n        for (const annotation of this.annotations) {\n          if (i >= annotation.start_index && i < annotation.end_index) {\n            annotationId = annotation.id;\n            break;\n          }\n        }\n        result.push({\n          char,\n          classes,\n          annotationId\n        });\n      }\n      return result;\n    }\n    static {\n      this.ɵfac = function LyricsViewComponent_Factory(t) {\n        return new (t || LyricsViewComponent)(i0.ɵɵdirectiveInject(i1.ContentService), i0.ɵɵdirectiveInject(i2.AnnotationService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.MatSnackBar));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LyricsViewComponent,\n        selectors: [[\"app-lyrics-view\"]],\n        decls: 4,\n        vars: 3,\n        consts: [[1, \"lyrics-view-container\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"error-container\", 4, \"ngIf\"], [\"class\", \"lyrics-content-container\", 4, \"ngIf\"], [1, \"loading-container\"], [1, \"error-container\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"lyrics-content-container\"], [1, \"song-header\"], [1, \"back-button\"], [\"mat-icon-button\", \"\", 3, \"routerLink\"], [1, \"song-info\"], [3, \"routerLink\"], [1, \"separator\"], [1, \"lyrics-section\"], [1, \"lyrics-wrapper\"], [1, \"lyrics-header\"], [1, \"annotation-instructions\"], [1, \"lyrics-card\"], [1, \"lyrics-content\", 3, \"mouseup\"], [4, \"ngIf\"], [\"class\", \"no-lyrics\", 4, \"ngIf\"], [1, \"annotation-section\"], [\"class\", \"no-annotation-active\", 4, \"ngIf\"], [\"class\", \"active-annotation\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\", \"click\"], [1, \"no-lyrics\"], [1, \"no-annotation-active\"], [1, \"active-annotation\"], [1, \"annotated-text\"], [\"mat-icon-button\", \"\", 1, \"close-button\", 3, \"click\"], [1, \"annotation-content\"], [1, \"annotation-meta\"]],\n        template: function LyricsViewComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵtemplate(1, LyricsViewComponent_div_1_Template, 2, 0, \"div\", 1);\n            i0.ɵɵtemplate(2, LyricsViewComponent_div_2_Template, 7, 1, \"div\", 2);\n            i0.ɵɵtemplate(3, LyricsViewComponent_div_3_Template, 36, 16, \"div\", 3);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error && ctx.song);\n          }\n        },\n        dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i3.RouterLink, i6.MatButton, i6.MatIconButton, i7.MatIcon, i8.MatCard, i8.MatCardContent, i8.MatCardHeader, i8.MatCardSubtitle, i8.MatCardTitle, i9.MatProgressSpinner, i5.DatePipe],\n        styles: [\".lyrics-view-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:60px}.error-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;background:linear-gradient(135deg,#fff6f6 0%,#ffebeb 100%);border-left:4px solid #ff4757;border-radius:12px;box-shadow:0 5px 15px #ff47571a}.error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ff4757;margin-bottom:16px;font-weight:500}.song-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:30px;animation:_ngcontent-%COMP%_fadeInDown .6s ease-out}.back-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .3s ease;margin-right:20px;background:rgba(106,48,147,.1)}.back-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:rgba(106,48,147,.2)}.song-info[_ngcontent-%COMP%]{flex:1}.song-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4a148c;font-size:2.2rem;margin-bottom:5px}.song-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#7b1fa2;font-size:1.3rem;font-weight:500;display:flex;align-items:center;flex-wrap:wrap}.song-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6a3093;text-decoration:none;transition:all .3s ease;position:relative}.song-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a044ff;text-decoration:underline}.separator[_ngcontent-%COMP%]{margin:0 10px;color:#b39ddb}.lyrics-section[_ngcontent-%COMP%]{display:flex;gap:30px;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@media (max-width: 992px){.lyrics-section[_ngcontent-%COMP%]{flex-direction:column}}.lyrics-wrapper[_ngcontent-%COMP%]{flex:2}.lyrics-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.lyrics-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;color:#6a3093;font-size:1.5rem}.lyrics-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:#8e54e9}.annotation-instructions[_ngcontent-%COMP%]{display:flex;align-items:center;color:#666;font-size:.9rem;background:rgba(106,48,147,.05);padding:8px 12px;border-radius:20px}.annotation-instructions[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;margin-right:8px;color:#8e54e9}.lyrics-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 15px #6a30931a!important;transition:all .3s ease}.lyrics-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px #6a309333!important}.lyrics-content[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#333;white-space:pre-wrap;padding:10px 0;-webkit-user-select:text;user-select:text;cursor:text}.lyrics-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:all .2s ease;position:relative}.lyrics-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background:rgba(106,48,147,.05)}.lyrics-content[_ngcontent-%COMP%]   .annotated[_ngcontent-%COMP%]{background:rgba(138,43,226,.15);border-radius:2px;cursor:pointer}.lyrics-content[_ngcontent-%COMP%]   .annotated[_ngcontent-%COMP%]:hover{background:rgba(138,43,226,.25)}.lyrics-content[_ngcontent-%COMP%]   .active-annotation[_ngcontent-%COMP%]{background:rgba(138,43,226,.3);box-shadow:0 0 0 2px #8a2be233}.no-lyrics[_ngcontent-%COMP%]{color:#666;font-style:italic;text-align:center;padding:30px}.annotation-section[_ngcontent-%COMP%]{flex:1;min-width:300px;position:relative}.no-annotation-active[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#666;padding:40px 20px;background:rgba(106,48,147,.03);border-radius:12px;border:2px dashed rgba(106,48,147,.1)}.no-annotation-active[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:50px;width:50px;height:50px;margin-bottom:20px;color:#b39ddb;opacity:.7}.no-annotation-active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:300px;line-height:1.5}.active-annotation[_ngcontent-%COMP%]{position:sticky;top:20px;animation:_ngcontent-%COMP%_fadeIn .4s ease-out}.active-annotation[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 20px #6a309326!important;border-top:4px solid #8e54e9}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;transition:all .3s ease}.close-button[_ngcontent-%COMP%]:hover{transform:rotate(90deg);color:#ff4757}.annotated-text[_ngcontent-%COMP%]{font-style:italic;color:#6a3093;margin-top:5px;padding:5px 0;border-top:1px solid #e1bee7;border-bottom:1px solid #e1bee7}.annotation-content[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:#333;margin-bottom:20px}.annotation-meta[_ngcontent-%COMP%]{color:#666;font-size:.85rem;border-top:1px solid #eee;padding-top:10px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.song-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.song-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}.lyrics-content[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.song-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.back-button[_ngcontent-%COMP%]{margin-bottom:15px}.lyrics-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.annotation-instructions[_ngcontent-%COMP%]{margin-top:10px}}\"]\n      });\n    }\n  }\n  return LyricsViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}